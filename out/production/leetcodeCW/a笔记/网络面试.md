代阅读：https://xiaolincoding.com/network/3_tcp/tcp_interview.html
todo：
servlet
网关：https://zhuanlan.zhihu.com/p/165142303
tcp粘包问题：https://imageslr.com/2020/tcp-flow-control-congestion.html

# tcp 如何保证传输的可靠性
重传机制、流量控制、拥塞控制
> 1. 基于数据块传输：把数据分割成多个块，再给网络层
> 2. 对失序数据包重新排序去重：序列号排包
> 3. 校验和：发前算x，接收算y，如果相等说明数据没变过
> 4. 重传：丢失数据包重发，直到收到ack，超时重传，快速重传（基于ack相同3次以上重发, 发了6789，收到全是5，说明5丢了）。sack带序列号看哪些丢了
> 5. 流量控制：接收方处理能力。发送接收端两个滑动窗口buffer，接收端同意window大小控制发送速率
> 6. 拥塞控制：网络能力。发送方维护拥塞窗口和滑动窗口的最小值。ssthresh前慢开始指数增长，之后拥塞避免线性增长
> 
tcp粘包问题
> 有需求分开时，还是黏在一起。程序员要来区分每个数据包，可以通过添加额外字符
# WebSocket
> 先用http连接，再升级为websocket
> websocket数据包结构：有边界，消息头和消息题，payload长度和数据。
> 1. opcode：1为text，2二进制，8关闭连接
> 2. payload长度：字节长度例如3可以存111，先读7bit，如果长度大于127再用拓展
> 3. payload数据截取对应的数据
> 
1. 什么是 WebSocket?⼀般⽤来做什么？
2. WebSocket 和 HTTP 有什么区别？
3. WebSocket 的⼯作过程是什么样的？
4. SSE 与 WebSocket 该如何选择？（SSE 与 WebSocket 作⽤相似，都可以建⽴服务端与
   浏览器之间的通信，实现服务端向客户端推送消息，具体区别可以参考这篇⽂章：Web
   实时消息推送详解
- SSE 实现简单开发成本低，无需引入其他组件；WebSocket 传输数据需做二次解析，开发门槛高一些。
- SSE 默认支持断线重连；WebSocket 则需要自己实现。
- SSE 只能传送文本消息，二进制数据需要经过编码后传送；WebSocket 默认支持传送二进制数据。

## ⽹络分层
1. OSI 与 TCP/IP 各层的结构与功能。
> 网络，传输，应用
2. 为什么⽹络要分层？=问：所有架构分层的原因
> - 各层之间相互独立,提高了整体灵活性,大问题化小
3. OSI 与 TCP/IP 各层都有哪些协议?
> 应用：http，websocket，telnet，ssh
> 传输层：tcpudp，网关
> 网络层：NAT，IP，dns
> 物理，数据链路：MAC

TCP 与 UDP（重要）
1. TCP 的三次握⼿与四次挥⼿的内容？ TCP 为什么连接是三次握⼿⽽断开是四次握⼿？
> - seq：序列包，ack确认包x+1告诉cack回应的是x
> - 三次握手：第一次c发syn seq=x，客户端syn_send状态，第二次s发送syn=y，ack=x+1服务端进入syn_recv，第三次c发送，established状态
> - 四次原因：因为请求时，可能数据没有发完，这时先回复 ACK，等到数据发完之后再发 FIN，断开服务器到客户端的数据传送。
2. TCP 与 UDP 的区别及使⽤场景？tcp稳定，http，udp不稳定，vpn，dns
3. 为什么 DNS 协议使⽤ UDP？只使⽤了 UDP 吗？
4. 重要！！！！！TCP 是如何保证传输的可靠性？（⾥⾯涉及到的知识点⾮常多，每个都能挖掘不少问
   题，例如重传机制、流量控制、拥塞控制。如果⽬标是⼤⼚的话，⼀定要吃透，⾯试经
   常会问的）
5. 使⽤ TCP 的协议有哪些?使⽤ UDP 的协议有哪些?HTTP 基于 TCP 还是 UDP？
   





## DNS（重要）
1. DNS 是什么？解决了什么问题？
> 域名解析为ip地址
2. DNS 能解析端⼝吗？
> DNS 主要用于域名解析，将域名解析为对应的 IP 地址，并不直接负责解析端口。
> 端口是在建立网络连接时使用的，通常由应用层协议指定（如HTTP的默认端口为80）。
3. DNS 服务器有哪些？
4. DNS 解析的过程是什么样的？
> - 迭代访问：分别访问local，root，TLD，目标地址DNS，返回
> - 递归式：通过root，TLD传递查询。
5. DNS 劫持了解吗？如何应对？
> 它通过修改 DNS 服务器的解析结果，使用户访问的域名指向错误的 IP 地址
6. NAT转换表
> 10.0.0.1请求发到路由器
> 在 NAT 转换表中记录一条转换记录138.76.29.7:5001——10.0.0.1:3345
> 发送到WAN

IP
1. IP 协议的作⽤是什么？
2. 什么是 IP 地址？IP 寻址如何⼯作？
3. IPv4 和 IPv6 有什么区别？

HTTP
1. HTTP 状态码有哪些？
> - 2开头成功，200 成功，201 创建，202收到，204成功且不返回
> - 3开头重定向，301网址换了
> - 4开头错误，400 http有问题，404资源未找到，403 拒绝非法请求。
2. ⼀次完整的 HTTP 请求所经的步骤
> - 通过DNS协议获取IP地址
> - 发送TCP连接请求（创建套接字 Socket）
> - 请求获取信息request。
> - response交换消息，html，客户端输入。
> - 关闭 TCP 连接。
3. HTTP 协议了解么？HTTP 是基于 TCP 还是 UDP 的？
> 通过socket api连接客户端与服务端发送消息的协议，基于tcp
4. HTTP 报⽂的内容简单说⼀下！ HTTP 请求报⽂和响应报⽂中有哪些数据？
5. HTTP 和 HTTPS 的区别了解么？
> 1. http明文，https对称加密，密匙非对称加密
> 2. http在tcp上，https在SSL上，ssl基于tcp。
> 3. 80端口，443端口
6. HTTPS 的安全性体现在什么⽅⾯？答：SSL加密
7. HTTPS 加密过程是怎么样的？
> 利用对称和非对称加密。
> 对于密文采用公钥对称加密，对于公钥传输采用非对称加密，公钥encode私钥decode。
> 非对称加密：公钥进行加密操作，私钥才能解密数据。
8. HTTP/1.0 和 HTTP/1.1 有什么区别？
> 1. http2引入多路复用，同一连接上可以同时传输多个请求相应。之前是串行
> 2. http2用了二进制帧
> 3. http3使用QUIC实现可靠且安全的传输，连接建立效率更高
9. HTTP/1.1 和 HTTP/2.0 有什么区别？
10. HTTP/2.0 和 HTTP/3.0 有什么区别？
11. HTTP 请求有哪些常⻅的状态码？
12. HTTP ⻓连接和短连接了解么？
> - 短连接安全性高，发送一次数据就关闭连接，适合频率不高的请求访问
13. Cookie 和 Session 的关系
14. URI 和 URL 的区别是什么?
15. GET 和 POST 的区别？
> 1. 基本区别：GET在url中，用来获取或者短输入请求，POST携带在form中很长，用来上传数据
> 2. 幂等：POST对数据有更改，不是幂等的
> 3. 安全：get暴露在url中
> 4. 缓存：get可以被记录，并缓存，下次访问更快。