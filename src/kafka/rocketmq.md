

消息队列
⾯试中会结合你项⽬使⽤的消息队列进⾏提问，记得针对性准备即可。
通⽤（不管是⽤的哪⼀种消息队列都可能会问到）：
1. 为什么要⽤消息队列?
2. 有哪些常⻅的消息队列?如何选择？
3. 如何保证消息不被重复消费?
4. 如何保证消息消费的顺序性?
5. 如何保证消息的消费顺序？
6. 如何解决消息堆积问题？

RocketMQ：

1. RocketMQ 中的消息模型是什么？
> 主题模型&发布订阅模型**
> 消费者与消费队列数量相等，多个队列为了并发，每个消费者对应一个队列消费
> 每个消费组在每个队列上维护一个消费位置
> NameServer注册中心

2. RocketMQ 如何实现分布式事务？
> 事务消息加上，事务反查机制，commit信息丢失，重新查
> 实现原理：改变主题为half_topic然后开启定时任务从half_topic拉取
> 2PC、TCC 和事务消息(half 半消息机制)

3. RocketMQ 延时消息⽤过吗？
4. RocketMQ 重试机制？
5. RocketMQ 刷盘机制？
> 同步or异步刷盘，一个要ack一个不要
> 而异步刷盘往往是开启一个线程去异步地执行刷盘操作。消息刷盘采用后台异步线程提交的方式进行， 降低了读写延迟 ，提高了 MQ 的性能和吞吐量，一般适用于如发验证码等对于消息保证要求不太高的业务场景。
6. RocketMQ 如何保证⾼可⽤？
> 传统的 IO 读写,用户态内核态用dma拷贝
> 零拷贝技术，替代传统4此上下文切换，内存映射文件，简单地说就是内核缓冲区和应用缓冲区共享
> sendfile，除去用户缓冲区

7.
RocketMQ 如何保证⾼性能读写？




